{"version":3,"file":"index.30830ebe.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/DiffOutlined.js","../../node_modules/@ant-design/icons/es/icons/DiffOutlined.js","../../node_modules/@ant-design/icons-svg/es/asn/HomeOutlined.js","../../node_modules/@ant-design/icons/es/icons/HomeOutlined.js","../../node_modules/@ant-design/icons-svg/es/asn/LogoutOutlined.js","../../node_modules/@ant-design/icons/es/icons/LogoutOutlined.js","../../node_modules/antd/es/layout/index.js","../../src/pages/Layout/index.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar DiffOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M476 399.1c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1V484h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H420v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V540h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H476v-84.9zM560.5 704h-225c-4.1 0-7.5 3.2-7.5 7v42c0 3.8 3.4 7 7.5 7h225c4.1 0 7.5-3.2 7.5-7v-42c0-3.8-3.4-7-7.5-7zm-7.1-502.6c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v704c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32V397.3c0-8.5-3.4-16.6-9.4-22.6L553.4 201.4zM664 888H232V264h282.2L664 413.8V888zm190.2-581.4L611.3 72.9c-6-5.7-13.9-8.9-22.2-8.9H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h277l219 210.6V824c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V329.6c0-8.7-3.5-17-9.8-23z\" } }] }, \"name\": \"diff\", \"theme\": \"outlined\" };\nexport default DiffOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DiffOutlinedSvg from \"@ant-design/icons-svg/es/asn/DiffOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DiffOutlined = function DiffOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DiffOutlinedSvg\n  }));\n};\n\nDiffOutlined.displayName = 'DiffOutlined';\nexport default /*#__PURE__*/React.forwardRef(DiffOutlined);","// This icon file is generated automatically.\nvar HomeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z\" } }] }, \"name\": \"home\", \"theme\": \"outlined\" };\nexport default HomeOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport HomeOutlinedSvg from \"@ant-design/icons-svg/es/asn/HomeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HomeOutlined = function HomeOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: HomeOutlinedSvg\n  }));\n};\n\nHomeOutlined.displayName = 'HomeOutlined';\nexport default /*#__PURE__*/React.forwardRef(HomeOutlined);","// This icon file is generated automatically.\nvar LogoutOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z\" } }] }, \"name\": \"logout\", \"theme\": \"outlined\" };\nexport default LogoutOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LogoutOutlinedSvg from \"@ant-design/icons-svg/es/asn/LogoutOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LogoutOutlined = function LogoutOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LogoutOutlinedSvg\n  }));\n};\n\nLogoutOutlined.displayName = 'LogoutOutlined';\nexport default /*#__PURE__*/React.forwardRef(LogoutOutlined);","import InternalLayout, { Content, Footer, Header } from './layout';\nimport Sider from './Sider';\nvar Layout = InternalLayout;\nLayout.Header = Header;\nLayout.Footer = Footer;\nLayout.Content = Content;\nLayout.Sider = Sider;\nexport default Layout;","import { Layout, Menu, Popconfirm } from 'antd'\r\nimport {\r\n    HomeOutlined,\r\n    DiffOutlined,\r\n    EditOutlined,\r\n    LogoutOutlined\r\n} from '@ant-design/icons'\r\nimport './index.scss'\r\nimport { Link, Outlet, useLocation, useNavigate, useSearchParams } from 'react-router-dom'\r\nimport { useStore } from '@/store'\r\nimport { useEffect, useState } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { CloseOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst { Header, Sider } = Layout\r\nconst GeekLayout = () => {\r\n\r\n    const { userStore, loginStore, channelStore, compileStore } = useStore()\r\n    const { pathname } = useLocation()\r\n    // console.log('pathname', pathname);\r\n    // const [compileShow, setCompile] = useState(false)\r\n    const [params] = useSearchParams()\r\n    // console.log('params', params.get('id'));\r\n    function getItem(label, key, icon, children, type) {\r\n        return {\r\n            key,\r\n            icon,\r\n            children,\r\n            label,\r\n            type,\r\n        };\r\n    }\r\n\r\n    // const history = createBrowserHistory()\r\n    function getCompile() {\r\n        // console.log('compileStore.getCompileId()', compileStore.getCompileId());\r\n        if (params.get('id') || compileStore.getCompileId()) {\r\n            return getItem(\r\n                <Link to='/article/compile' className='compile'>编辑文章\r\n                    <CloseOutlined className='closeIcon' onClick={(e) => {\r\n                        // e.stopPropagation() // 这行代码会刷新页面\r\n                        // navigate('/article', { replace: true })\r\n                        window.history.back()\r\n                        compileStore.setCompileId('')\r\n                        // navigate('/article')\r\n                    }} />\r\n                </Link>,\r\n                '/article/compile'\r\n            )\r\n        }\r\n        return null\r\n    }\r\n    const items = [\r\n        getItem(<Link to='/'>数据概览</Link>, '/', <HomeOutlined />),\r\n        getItem('文章管理', '/art', <DiffOutlined />, [\r\n            getItem(<Link to='/article'>内容管理</Link>, '/article'),\r\n            getCompile()\r\n        ]),\r\n        getItem(<Link to='/publish?pubFlag=true'>发布文章</Link>, '/publish', <EditOutlined />)\r\n    ]\r\n    /*  const items = [\r\n         { label: <Link to='/'>数据概览</Link>, key: '/', icon: <HomeOutlined /> },\r\n         {\r\n             label: <Link to='/article'>内容管理</Link>,\r\n             key: '/article',\r\n             icon: <DiffOutlined />,\r\n             children: [\r\n                 {\r\n                     label: '子菜单项',\r\n                     key: '/article/compile',\r\n                     theme: 'dark'\r\n                 }\r\n             ]\r\n         },\r\n         { label: <Link to='/publish'>发布文章</Link>, key: '/publish', icon: <EditOutlined /> }\r\n     ] */\r\n    useEffect(() => {\r\n        userStore.getUseInfo()\r\n        channelStore.loadChannelList()\r\n    }, [userStore, channelStore])\r\n\r\n    const navigate = new useNavigate()\r\n    const confirm = () => {\r\n        loginStore.loginOut()\r\n        navigate('/login', { replace: true })\r\n    };\r\n\r\n    const cancel = (e) => {\r\n        // console.log(e);\r\n        // message.error('Click on No');\r\n    };\r\n    return (\r\n        <Layout>\r\n            <Header className=\"header\">\r\n                <div className=\"logo\" />\r\n                <div className=\"user-info\">\r\n                    <span className=\"user-name\">\r\n                        {userStore.userInfo.name}\r\n                    </span>\r\n                    <span className=\"user-logout\">\r\n                        <Popconfirm\r\n                            onConfirm={confirm}\r\n                            onCancel={cancel}\r\n                            title=\"是否确认退出？\"\r\n                            okText=\"退出\"\r\n                            cancelText=\"取消\">\r\n                            <LogoutOutlined /> 退出\r\n                        </Popconfirm>\r\n                    </span>\r\n                </div>\r\n            </Header>\r\n            <Layout>\r\n                <Sider width={200} className=\"site-layout-background\">\r\n                    <Menu\r\n                        mode=\"inline\"\r\n                        theme=\"dark\"\r\n                        defaultSelectedKeys={[pathname]}\r\n                        selectedKeys={[pathname]}\r\n                        defaultOpenKeys={['/art']}\r\n                        style={{ height: '100%', borderRight: 0 }}\r\n                        items={items}\r\n                    />\r\n                </Sider>\r\n                <Layout className=\"layout-content\" style={{ padding: 20 }}>\r\n                    <Outlet />\r\n                </Layout>\r\n            </Layout>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default observer(GeekLayout)"],"names":["DiffOutlined","React.createElement","_objectSpread","React.forwardRef","HomeOutlined","LogoutOutlined","Header","Sider","userStore","channelStore","compileStore","pathname","key","icon","children","label","getItem","_jsxs","e","_jsx","getCompile","useEffect","navigate","loginStore","cancel","Layout","name","confirm","GeekLayout"],"mappings":"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"}