{"version":3,"file":"index.312a098f.js","sources":["../../src/assets/logo.png","../../src/pages/Login/index.jsx"],"sourcesContent":["export default \"__VITE_ASSET__e4de5f17__\"","import React, { useState } from 'react'\r\nimport { Spin, Card, Form, Input, Button, Checkbox, message, Popconfirm } from 'antd';\r\nimport logo from '@/assets/logo.png'\r\nimport './index.scss'\r\nimport { useStore } from '@/store';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// 246810\r\nexport default function Login() {\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate()\r\n    const { loginStore } = useStore()\r\n    const onFinish = (values) => {\r\n        setLoading(true)\r\n        // value是一个对象，里面包含用户在表单输入的所有内容\r\n        loginStore.SignIn({ mobile: values.username, code: values.password }).then((res) => {\r\n            // console.log('res', res);\r\n            if (res.message !== 'OK') {\r\n                setLoading(false)\r\n                return message.error(`登录失败${res.message}`, 2);\r\n            }\r\n            setLoading(false)\r\n            message.success('登录成功！', 2)\r\n            navigate('/')\r\n        }).catch(e => {\r\n            setLoading(false)\r\n            message.error(`登录失败,测试密码为246810，${e}`, 2);\r\n        })\r\n\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        // console.log('Failed:', errorInfo);\r\n    };\r\n    return (\r\n        <div className=\"login\">\r\n\r\n            <Card\r\n                className='login-container'\r\n            >\r\n                <Spin spinning={loading}>\r\n                    <img className='login-logo'\r\n                        src={logo}\r\n                        alt=\"\" />\r\n                    {/* 登录表单 */}\r\n                    <Form\r\n                        validateTrigger={['onBlur', 'onChange']} // 指定要用到的事件\r\n                        initialValues={{\r\n                            remember: true,\r\n                        }}\r\n                        onFinish={onFinish}\r\n                        onFinishFailed={onFinishFailed}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"username\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please input your phone number!',\r\n                                },\r\n                                {\r\n                                    pattern: /^1[3-9]\\d{9}$/,\r\n                                    message: '请输入正确的手机号',\r\n                                    validateTrigger: 'onBlur' // 触发这个正则的事件\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <Input size='large' placeholder='请输入手机号' />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"password\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: 'Please input your identifying code!',\r\n                                },\r\n                                {\r\n                                    len: 6,\r\n                                    message: '请输入6位验证码',\r\n                                    validateTrigger: 'onBlur'\r\n                                }\r\n                            ]}\r\n                        >\r\n                            <Input size='large' placeholder='请输入验证码' />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item name='remember' valuePropName=\"checked\">\r\n                            <Checkbox className='login-checkbox-label'>\r\n                                我已阅读并同意「用户协议」和「隐私条款」\r\n                            </Checkbox>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\" size='large' block>\r\n                                Sign in\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Spin>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n"],"names":["useState","loading","loginStore","_jsxs","logo","setLoading","SignIn","mobile","values","username","code","password","then","res","message","error","navigate","success","e","_jsx","validateTrigger","len"],"mappings":"+SAAA,GAAe,GAAA,yCCQiB,KAAA,CAAA,EAAA,GAAAA,EAAA,QAAA,SAAA,EAAA,EACrBC,EAAuBD,KAExB,cAAAE,EAAAA,EAwBa,eAGG,CAAA,kBAAA,aAEV,CAAA,UACID,kBADJ,SACmBE,EAAA,EAAA,CAAA,SAAA,EAAA,SACNC,CAAAA,EAAAA,MAAAA,CACD,UAAA,aAGJ,IAAA,EACe,IAAA,EAAA,CAAA,EACDD,EAAA,EAAA,CAAA,gBADC,CAAA,SAAA,UAAA,EACD,cAAA,CAGd,SAAA,EAEC,EAPD,SAnCZD,GAAAA,CAARG,EAAA,EAAA,EAEIA,EAAUC,OAAA,CAAAC,OAAAC,EAAAC,SAAAC,KAAAF,EAAAG,QAAAA,CAAVN,EAAUO,KAAAC,GAAA,CAEyBJ,GAAAA,EAAAA,UAAAA,KAAuBE,SAAAA,EAAAA,EAA0BG,EAAAC,MAAA,2BAAAF,EAAAC,UAAA,CAAA,EAI7DC,EAAAA,EAAAA,EAClBC,EAAAA,QAAA,iCAAA,CAAA,EACDX,EAAU,GAAA,CACFY,CAAAA,EAAAA,MAAAA,GAAQ,CACRF,EAAAA,EAAAG,EAVZb,EAAAA,MAAAA,sEAAAA,IAAAA,CAAAA,CAAAA,CAaYU,CAGf,EA2B2B,kBArBT,GAsBuB,SAGd,CAAAI,EAAA,EAAA,KAAA,CAAA,KACa,WAAA,MACA,CAAA,CAPV,SAAA,WAYP,iCAAA,EAAY,CAAoBC,QAAA,gBATf,QAAA,yDAFb,wBAiBA,CAAA,EAAA,SAAAD,EAAA,EAAA,CAAA,KAAA,QAIA,YAAA,sCAAA,CACS,CAAA,CAAA,EAEYA,EAAA,EAAA,KAAA,CAAA,KARlB,WAAA,MAYP,CAAA,CAAgC,SAAA,GAAhCE,QAAA,qCAAA,EAGJ,CAAgBD,IAAA,EARK,QAAA,8CAFb,wBAWJ,CAAA,EAAA,SAAAD,EAAA,EAAA,CAAA,KAAA,+DAMAA,EAAA,EAAA,KAAA,iBAAa,cAAA,UAAA,SAAAA,EAAA,EAAA,CAAA,UAAA,uBAAb,SAAA,0HAAA,CAAA,CAjDR,CAAA,EAAAA,EAAA,EAAA,KAAA,CAAA,SAAAA,EAAA,EAAA,CAAA,KAAA,UAAA,SAAA,SAAA,KAAA,QAAA,MAAA,GACI,SAAA,SAAA,CANR,CAAA,CAAA,CAAA,CAAA,CAFU,CAAA,CAAA,CAJtB"}